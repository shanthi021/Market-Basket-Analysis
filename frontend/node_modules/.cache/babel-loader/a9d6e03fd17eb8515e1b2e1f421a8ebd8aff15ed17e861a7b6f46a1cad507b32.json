{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\Market Basket\\\\frontend\\\\src\\\\components\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { motion } from \"framer-motion\";\nimport { LogOut, Upload, BarChart3, Users, ShoppingCart, TrendingUp, Settings, Target } from \"lucide-react\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport toast from \"react-hot-toast\";\nimport KMeansVisualization from \"./KMeansVisualization\";\nimport MarketBasketChart from \"./MarketBasketChart\";\nimport StatsCards from \"./StatsCards\";\nimport TopCategoriesChart from \"./TopCategoriesChart\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = \"http://127.0.0.1:5000/api\";\n\n/* ------------------- ðŸŽ¨ Styled Components ------------------- */\nconst DashboardContainer = styled.div`\n  min-height: 100vh;\n  background: white;\n  padding: 20px;\n`;\n_c = DashboardContainer;\nconst Header = styled.header`\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(20px);\n  border-radius: 16px;\n  padding: 20px 32px;\n  margin-bottom: 24px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n`;\n_c2 = Header;\nconst Logo = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  h1 {\n    font-size: 1.8rem;\n    font-weight: 700;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    margin: 0;\n  }\n`;\n_c3 = Logo;\nconst UserSection = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 16px;\n`;\n_c4 = UserSection;\nconst UserInfo = styled.div`\n  text-align: right;\n\n  .username {\n    font-weight: 600;\n    color: #374151;\n    margin: 0;\n  }\n\n  .role {\n    font-size: 0.875rem;\n    color: #6b7280;\n    margin: 0;\n  }\n`;\n_c5 = UserInfo;\nconst LogoutButton = styled(motion.button)`\n  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  padding: 8px 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 500;\n`;\n_c6 = LogoutButton;\nconst MainContent = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 24px;\n  margin-bottom: 24px;\n\n  @media (max-width: 1024px) {\n    grid-template-columns: 1fr;\n  }\n`;\n_c7 = MainContent;\nconst Card = styled(motion.div)`\n  background: rgba(255, 255, 255, 0.95);\n  border-radius: 16px;\n  padding: 24px;\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\n`;\n_c8 = Card;\nconst CardHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n\n  h2 {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: #374151;\n    margin: 0;\n  }\n`;\n_c9 = CardHeader;\nconst ActionButton = styled(motion.button)`\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  padding: 8px 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 500;\n  opacity: ${props => props.disabled ? 0.6 : 1};\n`;\n_c0 = ActionButton;\nconst UploadSection = styled.div`\n  border: 2px dashed #d1d5db;\n  border-radius: 12px;\n  padding: 32px;\n  text-align: center;\n  cursor: pointer;\n`;\n_c1 = UploadSection;\nconst FileInput = styled.input`\n  display: none;\n`;\n_c10 = FileInput;\nconst AnalysisControls = styled.div`\n  display: flex;\n  gap: 12px;\n  margin-bottom: 20px;\n  flex-wrap: wrap;\n`;\n_c11 = AnalysisControls;\nconst ControlButton = styled(motion.button)`\n  background: ${props => props.active ? \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\" : \"rgba(255, 255, 255, 0.8)\"};\n  color: ${props => props.active ? \"white\" : \"#374151\"};\n  border: 2px solid ${props => props.active ? \"transparent\" : \"#e5e7eb\"};\n  border-radius: 8px;\n  padding: 8px 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\n/* ------------------- ðŸ§  Component ------------------- */\n_c12 = ControlButton;\nconst Dashboard = () => {\n  _s();\n  // âœ… Get the 'loading' state from the AuthContext\n  const {\n    user,\n    logout,\n    loading\n  } = useAuth();\n  const [activeTab, setActiveTab] = useState(\"kmeans\");\n  const [componentLoading, setComponentLoading] = useState(false);\n  const [dashboardStats, setDashboardStats] = useState(null);\n  const [kmeansData, setKmeansData] = useState(null);\n  const [marketBasketData, setMarketBasketData] = useState(null);\n  const getAuthHeader = () => {\n    const token = localStorage.getItem(\"token\");\n    return {\n      Authorization: `Bearer ${token}`\n    };\n  };\n\n  // ðŸ“Š Fetch Dashboard Stats\n  const fetchStats = async () => {\n    try {\n      const {\n        data\n      } = await axios.get(`${API_BASE}/dashboard-stats`, {\n        headers: getAuthHeader()\n      });\n      setDashboardStats(data);\n    } catch (error) {\n      console.error(\"Error fetching dashboard stats:\", error);\n      // Removed toast to avoid spamming for now, as it's a known issue\n    }\n  };\n  useEffect(() => {\n    // âœ… ONLY fetch stats if the AuthContext has finished loading AND a user is present\n    if (!loading && user) {\n      fetchStats();\n    }\n  }, [loading, user]); // âœ… Dependency array ensures this runs when user/loading state changes\n\n  // ðŸ“¤ File Upload\n  const handleFileUpload = async event => {\n    const file = event.target.files[0];\n    if (!file) return;\n    if (!file.name.endsWith(\".csv\")) {\n      toast.error(\"Please upload a CSV file\");\n      return;\n    }\n    setComponentLoading(true);\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      const response = await axios.post(`${API_BASE}/upload-data`, formData, {\n        headers: {\n          ...getAuthHeader()\n        }\n      });\n      toast.success(response.data.message || \"Data uploaded successfully!\");\n      fetchStats(); // refresh stats after upload\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Upload error:\", error.response || error);\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Failed to upload data\");\n    } finally {\n      setComponentLoading(false);\n    }\n  };\n\n  // ðŸ§  Run KMeans\n  const runKMeansAnalysis = async () => {\n    setComponentLoading(true);\n    try {\n      const {\n        data\n      } = await axios.post(`${API_BASE}/kmeans-analysis`, {\n        n_clusters: 5\n      }, {\n        headers: getAuthHeader()\n      });\n      setKmeansData(data);\n      setActiveTab(\"kmeans\");\n      toast.success(\"K-means analysis completed!\");\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || \"Failed to run K-means analysis\");\n    } finally {\n      setComponentLoading(false);\n    }\n  };\n\n  // ðŸ›’ Run Market Basket\n  const runMarketBasketAnalysis = async () => {\n    setComponentLoading(true);\n    try {\n      const {\n        data\n      } = await axios.post(`${API_BASE}/market-basket-analysis`, {}, {\n        headers: getAuthHeader()\n      });\n      setMarketBasketData(data);\n      setActiveTab(\"marketbasket\");\n      toast.success(\"Market basket analysis completed!\");\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || \"Failed to run market basket analysis\");\n    } finally {\n      setComponentLoading(false);\n    }\n  };\n\n  // âœ… Conditionally render based on the loading state\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(DashboardContainer, {\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading application data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(DashboardContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: [/*#__PURE__*/_jsxDEV(Logo, {\n        children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n          size: 32,\n          color: \"#667eea\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Market Basket Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UserSection, {\n        children: [/*#__PURE__*/_jsxDEV(UserInfo, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"username\",\n            children: [\"Welcome, \", user === null || user === void 0 ? void 0 : user.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"role\",\n            children: \"Data Analyst\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LogoutButton, {\n          onClick: logout,\n          children: [/*#__PURE__*/_jsxDEV(LogOut, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), \"Logout\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), dashboardStats ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(StatsCards, {\n        stats: dashboardStats\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), dashboardStats.top_categories && /*#__PURE__*/_jsxDEV(TopCategoriesChart, {\n        topCategories: dashboardStats.top_categories\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading dashboard stats...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MainContent, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Data Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Upload, {\n            size: 20,\n            color: \"#6b7280\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(UploadSection, {\n          onClick: () => document.getElementById(\"fileInput\").click(),\n          children: [/*#__PURE__*/_jsxDEV(Upload, {\n            size: 48,\n            className: \"upload-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Upload Transaction Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Click to upload a CSV file with your transaction data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ActionButton, {\n            children: [/*#__PURE__*/_jsxDEV(Upload, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), \"Choose File\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FileInput, {\n            id: \"fileInput\",\n            type: \"file\",\n            accept: \".csv\",\n            onChange: handleFileUpload\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Analysis Controls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Settings, {\n            size: 20,\n            color: \"#6b7280\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AnalysisControls, {\n          children: [/*#__PURE__*/_jsxDEV(ControlButton, {\n            active: activeTab === \"kmeans\",\n            onClick: () => setActiveTab(\"kmeans\"),\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 15\n            }, this), \"K-Means\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ControlButton, {\n            active: activeTab === \"marketbasket\",\n            onClick: () => setActiveTab(\"marketbasket\"),\n            children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this), \"Market Basket\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 11\n        }, this), activeTab === \"kmeans\" && /*#__PURE__*/_jsxDEV(ActionButton, {\n          onClick: runKMeansAnalysis,\n          disabled: componentLoading,\n          children: [/*#__PURE__*/_jsxDEV(Target, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 15\n          }, this), componentLoading ? \"Running...\" : \"Run K-Means Analysis\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), activeTab === \"marketbasket\" && /*#__PURE__*/_jsxDEV(ActionButton, {\n          onClick: runMarketBasketAnalysis,\n          disabled: componentLoading,\n          children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), componentLoading ? \"Running...\" : \"Run Market Basket Analysis\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this), activeTab === \"kmeans\" && kmeansData && /*#__PURE__*/_jsxDEV(KMeansVisualization, {\n      data: kmeansData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 48\n    }, this), activeTab === \"marketbasket\" && marketBasketData && /*#__PURE__*/_jsxDEV(MarketBasketChart, {\n      data: marketBasketData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"/kEcI2Pn+4Y4vhpAZg/BuI0V978=\", false, function () {\n  return [useAuth];\n});\n_c13 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13;\n$RefreshReg$(_c, \"DashboardContainer\");\n$RefreshReg$(_c2, \"Header\");\n$RefreshReg$(_c3, \"Logo\");\n$RefreshReg$(_c4, \"UserSection\");\n$RefreshReg$(_c5, \"UserInfo\");\n$RefreshReg$(_c6, \"LogoutButton\");\n$RefreshReg$(_c7, \"MainContent\");\n$RefreshReg$(_c8, \"Card\");\n$RefreshReg$(_c9, \"CardHeader\");\n$RefreshReg$(_c0, \"ActionButton\");\n$RefreshReg$(_c1, \"UploadSection\");\n$RefreshReg$(_c10, \"FileInput\");\n$RefreshReg$(_c11, \"AnalysisControls\");\n$RefreshReg$(_c12, \"ControlButton\");\n$RefreshReg$(_c13, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","useAuth","motion","LogOut","Upload","BarChart3","Users","ShoppingCart","TrendingUp","Settings","Target","styled","axios","toast","KMeansVisualization","MarketBasketChart","StatsCards","TopCategoriesChart","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","DashboardContainer","div","_c","Header","header","_c2","Logo","_c3","UserSection","_c4","UserInfo","_c5","LogoutButton","button","_c6","MainContent","_c7","Card","_c8","CardHeader","_c9","ActionButton","props","disabled","_c0","UploadSection","_c1","FileInput","input","_c10","AnalysisControls","_c11","ControlButton","active","_c12","Dashboard","_s","user","logout","loading","activeTab","setActiveTab","componentLoading","setComponentLoading","dashboardStats","setDashboardStats","kmeansData","setKmeansData","marketBasketData","setMarketBasketData","getAuthHeader","token","localStorage","getItem","Authorization","fetchStats","data","get","headers","error","console","handleFileUpload","event","file","target","files","name","endsWith","formData","FormData","append","response","post","success","message","_error$response","_error$response$data","runKMeansAnalysis","n_clusters","_error$response2","_error$response2$data","runMarketBasketAnalysis","_error$response3","_error$response3$data","children","fileName","_jsxFileName","lineNumber","columnNumber","size","color","className","username","onClick","stats","top_categories","topCategories","document","getElementById","click","id","type","accept","onChange","_c13","$RefreshReg$"],"sources":["C:/Users/hp/OneDrive/Desktop/Market Basket/frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useAuth } from \"../contexts/AuthContext\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  LogOut,\r\n  Upload,\r\n  BarChart3,\r\n  Users,\r\n  ShoppingCart,\r\n  TrendingUp,\r\n  Settings,\r\n  Target,\r\n} from \"lucide-react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport toast from \"react-hot-toast\";\r\nimport KMeansVisualization from \"./KMeansVisualization\";\r\nimport MarketBasketChart from \"./MarketBasketChart\";\r\nimport StatsCards from \"./StatsCards\";\r\nimport TopCategoriesChart from \"./TopCategoriesChart\";\r\n\r\nconst API_BASE = \"http://127.0.0.1:5000/api\";\r\n\r\n/* ------------------- ðŸŽ¨ Styled Components ------------------- */\r\nconst DashboardContainer = styled.div`\r\n  min-height: 100vh;\r\n  background: white;\r\n  padding: 20px;\r\n`;\r\n\r\nconst Header = styled.header`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 16px;\r\n  padding: 20px 32px;\r\n  margin-bottom: 24px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst Logo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n\r\n  h1 {\r\n    font-size: 1.8rem;\r\n    font-weight: 700;\r\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n    -webkit-background-clip: text;\r\n    -webkit-text-fill-color: transparent;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst UserSection = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 16px;\r\n`;\r\n\r\nconst UserInfo = styled.div`\r\n  text-align: right;\r\n\r\n  .username {\r\n    font-weight: 600;\r\n    color: #374151;\r\n    margin: 0;\r\n  }\r\n\r\n  .role {\r\n    font-size: 0.875rem;\r\n    color: #6b7280;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst LogoutButton = styled(motion.button)`\r\n  background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 8px 16px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-weight: 500;\r\n`;\r\n\r\nconst MainContent = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 24px;\r\n  margin-bottom: 24px;\r\n\r\n  @media (max-width: 1024px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nconst Card = styled(motion.div)`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  border-radius: 16px;\r\n  padding: 24px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nconst CardHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20px;\r\n\r\n  h2 {\r\n    font-size: 1.25rem;\r\n    font-weight: 600;\r\n    color: #374151;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst ActionButton = styled(motion.button)`\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  padding: 8px 16px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  font-weight: 500;\r\n  opacity: ${(props) => (props.disabled ? 0.6 : 1)};\r\n`;\r\n\r\nconst UploadSection = styled.div`\r\n  border: 2px dashed #d1d5db;\r\n  border-radius: 12px;\r\n  padding: 32px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst FileInput = styled.input`\r\n  display: none;\r\n`;\r\n\r\nconst AnalysisControls = styled.div`\r\n  display: flex;\r\n  gap: 12px;\r\n  margin-bottom: 20px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst ControlButton = styled(motion.button)`\r\n  background: ${(props) =>\r\n    props.active\r\n      ? \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\"\r\n      : \"rgba(255, 255, 255, 0.8)\"};\r\n  color: ${(props) => (props.active ? \"white\" : \"#374151\")};\r\n  border: 2px solid ${(props) => (props.active ? \"transparent\" : \"#e5e7eb\")};\r\n  border-radius: 8px;\r\n  padding: 8px 16px;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n`;\r\n\r\n/* ------------------- ðŸ§  Component ------------------- */\r\nconst Dashboard = () => {\r\n  // âœ… Get the 'loading' state from the AuthContext\r\n  const { user, logout, loading } = useAuth();\r\n  const [activeTab, setActiveTab] = useState(\"kmeans\");\r\n  const [componentLoading, setComponentLoading] = useState(false);\r\n  const [dashboardStats, setDashboardStats] = useState(null);\r\n  const [kmeansData, setKmeansData] = useState(null);\r\n  const [marketBasketData, setMarketBasketData] = useState(null);\r\n\r\n  const getAuthHeader = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    return { Authorization: `Bearer ${token}` };\r\n  };\r\n\r\n  // ðŸ“Š Fetch Dashboard Stats\r\n  const fetchStats = async () => {\r\n    try {\r\n      const { data } = await axios.get(`${API_BASE}/dashboard-stats`, {\r\n        headers: getAuthHeader(),\r\n      });\r\n      setDashboardStats(data);\r\n    } catch (error) {\r\n      console.error(\"Error fetching dashboard stats:\", error);\r\n      // Removed toast to avoid spamming for now, as it's a known issue\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // âœ… ONLY fetch stats if the AuthContext has finished loading AND a user is present\r\n    if (!loading && user) {\r\n      fetchStats();\r\n    }\r\n  }, [loading, user]); // âœ… Dependency array ensures this runs when user/loading state changes\r\n\r\n  // ðŸ“¤ File Upload\r\n  const handleFileUpload = async (event) => {\r\n    const file = event.target.files[0];\r\n    if (!file) return;\r\n    if (!file.name.endsWith(\".csv\")) {\r\n      toast.error(\"Please upload a CSV file\");\r\n      return;\r\n    }\r\n\r\n    setComponentLoading(true);\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n\r\n      const response = await axios.post(`${API_BASE}/upload-data`, formData, {\r\n        headers: {\r\n          ...getAuthHeader(),\r\n        },\r\n      });\r\n\r\n      toast.success(response.data.message || \"Data uploaded successfully!\");\r\n      fetchStats(); // refresh stats after upload\r\n    } catch (error) {\r\n      console.error(\"Upload error:\", error.response || error);\r\n      toast.error(error.response?.data?.message || \"Failed to upload data\");\r\n    } finally {\r\n      setComponentLoading(false);\r\n    }\r\n  };\r\n\r\n  // ðŸ§  Run KMeans\r\n  const runKMeansAnalysis = async () => {\r\n    setComponentLoading(true);\r\n    try {\r\n      const { data } = await axios.post(\r\n        `${API_BASE}/kmeans-analysis`,\r\n        { n_clusters: 5 },\r\n        { headers: getAuthHeader() }\r\n      );\r\n      setKmeansData(data);\r\n      setActiveTab(\"kmeans\");\r\n      toast.success(\"K-means analysis completed!\");\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || \"Failed to run K-means analysis\");\r\n    } finally {\r\n      setComponentLoading(false);\r\n    }\r\n  };\r\n\r\n  // ðŸ›’ Run Market Basket\r\n  const runMarketBasketAnalysis = async () => {\r\n    setComponentLoading(true);\r\n    try {\r\n      const { data } = await axios.post(\r\n        `${API_BASE}/market-basket-analysis`,\r\n        {},\r\n        { headers: getAuthHeader() }\r\n      );\r\n      setMarketBasketData(data);\r\n      setActiveTab(\"marketbasket\");\r\n      toast.success(\"Market basket analysis completed!\");\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || \"Failed to run market basket analysis\");\r\n    } finally {\r\n      setComponentLoading(false);\r\n    }\r\n  };\r\n\r\n  // âœ… Conditionally render based on the loading state\r\n  if (loading) {\r\n    return (\r\n      <DashboardContainer>\r\n        <p>Loading application data...</p>\r\n      </DashboardContainer>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <DashboardContainer>\r\n      {/* -------- Header -------- */}\r\n      <Header>\r\n        <Logo>\r\n          <BarChart3 size={32} color=\"#667eea\" />\r\n          <h1>Market Basket Analysis</h1>\r\n        </Logo>\r\n        <UserSection>\r\n          <UserInfo>\r\n            <p className=\"username\">Welcome, {user?.username}</p>\r\n            <p className=\"role\">Data Analyst</p>\r\n          </UserInfo>\r\n          <LogoutButton onClick={logout}>\r\n            <LogOut size={16} />\r\n            Logout\r\n          </LogoutButton>\r\n        </UserSection>\r\n      </Header>\r\n\r\n      {/* -------- Stats -------- */}\r\n      {dashboardStats ? (\r\n        <>\r\n          <StatsCards stats={dashboardStats} />\r\n          {dashboardStats.top_categories && (\r\n            <TopCategoriesChart topCategories={dashboardStats.top_categories} />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <p>Loading dashboard stats...</p>\r\n      )}\r\n\r\n      {/* -------- Main Content -------- */}\r\n      <MainContent>\r\n        {/* Upload Section */}\r\n        <Card>\r\n          <CardHeader>\r\n            <h2>Data Upload</h2>\r\n            <Upload size={20} color=\"#6b7280\" />\r\n          </CardHeader>\r\n          <UploadSection onClick={() => document.getElementById(\"fileInput\").click()}>\r\n            <Upload size={48} className=\"upload-icon\" />\r\n            <h3>Upload Transaction Data</h3>\r\n            <p>Click to upload a CSV file with your transaction data</p>\r\n            <ActionButton>\r\n              <Upload size={16} />\r\n              Choose File\r\n            </ActionButton>\r\n            <FileInput\r\n              id=\"fileInput\"\r\n              type=\"file\"\r\n              accept=\".csv\"\r\n              onChange={handleFileUpload}\r\n            />\r\n          </UploadSection>\r\n        </Card>\r\n\r\n        {/* Controls Section */}\r\n        <Card>\r\n          <CardHeader>\r\n            <h2>Analysis Controls</h2>\r\n            <Settings size={20} color=\"#6b7280\" />\r\n          </CardHeader>\r\n          <AnalysisControls>\r\n            <ControlButton active={activeTab === \"kmeans\"} onClick={() => setActiveTab(\"kmeans\")}>\r\n              <Users size={16} />\r\n              K-Means\r\n            </ControlButton>\r\n            <ControlButton\r\n              active={activeTab === \"marketbasket\"}\r\n              onClick={() => setActiveTab(\"marketbasket\")}\r\n            >\r\n              <ShoppingCart size={16} />\r\n              Market Basket\r\n            </ControlButton>\r\n          </AnalysisControls>\r\n\r\n          {activeTab === \"kmeans\" && (\r\n            <ActionButton onClick={runKMeansAnalysis} disabled={componentLoading}>\r\n              <Target size={16} />\r\n              {componentLoading ? \"Running...\" : \"Run K-Means Analysis\"}\r\n            </ActionButton>\r\n          )}\r\n\r\n          {activeTab === \"marketbasket\" && (\r\n            <ActionButton onClick={runMarketBasketAnalysis} disabled={componentLoading}>\r\n              <TrendingUp size={16} />\r\n              {componentLoading ? \"Running...\" : \"Run Market Basket Analysis\"}\r\n            </ActionButton>\r\n          )}\r\n        </Card>\r\n      </MainContent>\r\n\r\n      {/* -------- Results -------- */}\r\n      {activeTab === \"kmeans\" && kmeansData && <KMeansVisualization data={kmeansData} />}\r\n      {activeTab === \"marketbasket\" && marketBasketData && (\r\n        <MarketBasketChart data={marketBasketData} />\r\n      )}\r\n    </DashboardContainer>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}