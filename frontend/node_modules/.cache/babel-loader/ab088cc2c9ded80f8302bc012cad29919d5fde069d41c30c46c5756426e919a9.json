{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\Market Basket\\\\frontend\\\\src\\\\components\\\\TopCategoriesChart.js\",\n  _s = $RefreshSig$();\n// src/components/TopCategoriesChart.js\nimport React, { useRef, useEffect } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from \"chart.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\nconst TopCategoriesChart = ({\n  topCategories\n}) => {\n  _s();\n  const chartRef = useRef(null);\n\n  // Extract labels and counts safely\n  const labels = (topCategories === null || topCategories === void 0 ? void 0 : topCategories.map(c => c.name)) || [];\n  const counts = (topCategories === null || topCategories === void 0 ? void 0 : topCategories.map(c => c.count)) || [];\n\n  // ðŸŽ¨ Base colors\n  const colors = [\"rgba(99, 102, 241, 0.8)\",\n  // Indigo\n  \"rgba(16, 185, 129, 0.8)\",\n  // Green\n  \"rgba(239, 68, 68, 0.8)\",\n  // Red\n  \"rgba(245, 158, 11, 0.8)\",\n  // Amber\n  \"rgba(139, 92, 246, 0.8)\" // Purple\n  ];\n\n  // ðŸ”¥ Apply gradient effect after chart renders\n  useEffect(() => {\n    const chart = chartRef.current;\n    if (chart && chart.ctx && counts.length > 0) {\n      const ctx = chart.ctx;\n      chart.data.datasets[0].backgroundColor = counts.map((_, i) => {\n        const gradient = ctx.createLinearGradient(0, 0, 0, 200);\n        gradient.addColorStop(0, colors[i % colors.length]);\n        gradient.addColorStop(1, \"rgba(255,255,255,0.2)\");\n        return gradient;\n      });\n      chart.update();\n    }\n  }, [counts]);\n  const data = {\n    labels,\n    datasets: [{\n      label: \"Products Sold\",\n      data: counts,\n      borderColor: colors.map(c => c.replace(\"0.8\", \"1\")),\n      borderWidth: 1,\n      borderRadius: 8,\n      barThickness: 40,\n      backgroundColor: colors // fallback colors\n    }]\n  };\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        display: false\n      },\n      title: {\n        display: true,\n        text: \"Top Product Categories\",\n        font: {\n          size: 18,\n          weight: \"bold\"\n        },\n        color: \"#111827\"\n      },\n      tooltip: {\n        callbacks: {\n          label: context => `${context.formattedValue} items`\n        }\n      }\n    },\n    scales: {\n      x: {\n        ticks: {\n          color: \"#374151\",\n          font: {\n            size: 12,\n            weight: \"500\"\n          }\n        },\n        grid: {\n          display: false\n        }\n      },\n      y: {\n        beginAtZero: true,\n        ticks: {\n          stepSize: 1,\n          color: \"#6b7280\"\n        },\n        grid: {\n          color: \"rgba(209, 213, 219, 0.3)\"\n        }\n      }\n    },\n    animation: {\n      duration: 800,\n      easing: \"easeOutQuart\"\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: \"400px\",\n      width: \"100%\"\n    },\n    children: counts.length > 0 ? /*#__PURE__*/_jsxDEV(Bar, {\n      ref: chartRef,\n      data: data,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No category data available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n_s(TopCategoriesChart, \"X+1SfQQ6xefXNU27aQW843M7cTw=\");\n_c = TopCategoriesChart;\nexport default TopCategoriesChart;\nvar _c;\n$RefreshReg$(_c, \"TopCategoriesChart\");","map":{"version":3,"names":["React","useRef","useEffect","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","register","TopCategoriesChart","topCategories","_s","chartRef","labels","map","c","name","counts","count","colors","chart","current","ctx","length","data","datasets","backgroundColor","_","i","gradient","createLinearGradient","addColorStop","update","label","borderColor","replace","borderWidth","borderRadius","barThickness","options","responsive","maintainAspectRatio","plugins","legend","display","title","text","font","size","weight","color","tooltip","callbacks","context","formattedValue","scales","x","ticks","grid","y","beginAtZero","stepSize","animation","duration","easing","style","height","width","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/hp/OneDrive/Desktop/Market Basket/frontend/src/components/TopCategoriesChart.js"],"sourcesContent":["// src/components/TopCategoriesChart.js\r\nimport React, { useRef, useEffect } from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\nconst TopCategoriesChart = ({ topCategories }) => {\r\n  const chartRef = useRef(null);\r\n\r\n  // Extract labels and counts safely\r\n  const labels = topCategories?.map((c) => c.name) || [];\r\n  const counts = topCategories?.map((c) => c.count) || [];\r\n\r\n  // ðŸŽ¨ Base colors\r\n  const colors = [\r\n    \"rgba(99, 102, 241, 0.8)\", // Indigo\r\n    \"rgba(16, 185, 129, 0.8)\", // Green\r\n    \"rgba(239, 68, 68, 0.8)\", // Red\r\n    \"rgba(245, 158, 11, 0.8)\", // Amber\r\n    \"rgba(139, 92, 246, 0.8)\", // Purple\r\n  ];\r\n\r\n  // ðŸ”¥ Apply gradient effect after chart renders\r\n  useEffect(() => {\r\n    const chart = chartRef.current;\r\n\r\n    if (chart && chart.ctx && counts.length > 0) {\r\n      const ctx = chart.ctx;\r\n\r\n      chart.data.datasets[0].backgroundColor = counts.map((_, i) => {\r\n        const gradient = ctx.createLinearGradient(0, 0, 0, 200);\r\n        gradient.addColorStop(0, colors[i % colors.length]);\r\n        gradient.addColorStop(1, \"rgba(255,255,255,0.2)\");\r\n        return gradient;\r\n      });\r\n\r\n      chart.update();\r\n    }\r\n  }, [counts]);\r\n\r\n  const data = {\r\n    labels,\r\n    datasets: [\r\n      {\r\n        label: \"Products Sold\",\r\n        data: counts,\r\n        borderColor: colors.map((c) => c.replace(\"0.8\", \"1\")),\r\n        borderWidth: 1,\r\n        borderRadius: 8,\r\n        barThickness: 40,\r\n        backgroundColor: colors, // fallback colors\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: { display: false },\r\n      title: {\r\n        display: true,\r\n        text: \"Top Product Categories\",\r\n        font: { size: 18, weight: \"bold\" },\r\n        color: \"#111827\",\r\n      },\r\n      tooltip: {\r\n        callbacks: {\r\n          label: (context) => `${context.formattedValue} items`,\r\n        },\r\n      },\r\n    },\r\n    scales: {\r\n      x: {\r\n        ticks: { color: \"#374151\", font: { size: 12, weight: \"500\" } },\r\n        grid: { display: false },\r\n      },\r\n      y: {\r\n        beginAtZero: true,\r\n        ticks: { stepSize: 1, color: \"#6b7280\" },\r\n        grid: { color: \"rgba(209, 213, 219, 0.3)\" },\r\n      },\r\n    },\r\n    animation: {\r\n      duration: 800,\r\n      easing: \"easeOutQuart\",\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div style={{ height: \"400px\", width: \"100%\" }}>\r\n      {counts.length > 0 ? (\r\n        <Bar ref={chartRef} data={data} options={options} />\r\n      ) : (\r\n        <p>No category data available</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TopCategoriesChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}