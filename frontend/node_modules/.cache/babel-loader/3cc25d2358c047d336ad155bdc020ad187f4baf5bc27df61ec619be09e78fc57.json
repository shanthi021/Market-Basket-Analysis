{"ast":null,"code":"import _objectSpread from\"C:/Users/hp/OneDrive/Desktop/Market Basket/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"C:/Users/hp/OneDrive/Desktop/Market Basket/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0;// src/components/KMeansVisualization.js\nimport React,{useState}from\"react\";import{motion}from\"framer-motion\";import{Scatter}from\"react-chartjs-2\";import{Chart as ChartJS,CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend}from\"chart.js\";import styled from\"styled-components\";import{Users,Target,Download}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,PointElement,LineElement,Title,Tooltip,Legend);/* ------------------- ðŸŽ¨ Styled Components ------------------- */const VisualizationContainer=styled(motion.div)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background: rgba(255, 255, 255, 0.95);\\n  backdrop-filter: blur(20px);\\n  border-radius: 16px;\\n  padding: 24px;\\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\\n  margin-bottom: 24px;\\n\"])));const Header=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n  margin-bottom: 24px;\\n\\n  h2 {\\n    font-size: 1.5rem;\\n    font-weight: 600;\\n    color: #374151;\\n    margin: 0;\\n  }\\n\"])));const DownloadButton=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  margin-left: auto;\\n  background: #4f46e5;\\n  color: white;\\n  border: none;\\n  padding: 8px 14px;\\n  border-radius: 8px;\\n  font-size: 0.9rem;\\n  font-weight: 500;\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n  cursor: pointer;\\n  transition: 0.2s;\\n\\n  &:hover {\\n    background: #4338ca;\\n  }\\n\"])));const Content=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 2fr 1fr;\\n  gap: 24px;\\n\\n  @media (max-width: 768px) {\\n    grid-template-columns: 1fr;\\n  }\\n\"])));const ChartContainer=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  background: white;\\n  border-radius: 12px;\\n  padding: 20px;\\n  height: 450px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\\n\"])));const ClusterStats=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 16px;\\n\"])));const ClusterCard=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  background: white;\\n  border-radius: 12px;\\n  padding: 16px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\\n  border-left: 4px solid \",\";\\n\"])),props=>props.color);const ClusterHeader=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  margin-bottom: 8px;\\n\\n  h3 {\\n    font-size: 1.1rem;\\n    font-weight: 600;\\n    color: #374151;\\n    margin: 0;\\n  }\\n\"])));const ClusterMetric=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 4px;\\n\\n  span {\\n    font-size: 0.875rem;\\n    color: #6b7280;\\n  }\\n\\n  strong {\\n    color: #374151;\\n    font-weight: 600;\\n  }\\n\"])));const CategorySelect=styled.select(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  margin-top: 8px;\\n  padding: 6px 8px;\\n  border-radius: 6px;\\n  border: 1px solid #d1d5db;\\n  font-size: 0.9rem;\\n  width: 100%;\\n  background: #f9fafb;\\n\"])));/* ------------------- ðŸ§  Component ------------------- */const KMeansVisualization=_ref=>{let{data}=_ref;const[clusters,setClusters]=useState((data===null||data===void 0?void 0:data.clusters)||[]);if(!data)return/*#__PURE__*/_jsx(\"p\",{children:\"No clustering data available\"});const clusterColors=[\"#3b82f6\",\"#10b981\",\"#f59e0b\",\"#ef4444\",\"#8b5cf6\",\"#06b6d4\",\"#84cc16\",\"#f97316\"];const categoryOptions=[\"High Value\",\"Budget Shoppers\",\"Occasional Buyers\",\"Frequent Buyers\",\"Young Adults\",\"Seniors\",\"Families\",\"Others\"];// ðŸ”‘ Adjust positions based on category selection\nconst getAdjustedPosition=(point,category)=>{switch(category){case\"High Value\":return _objectSpread(_objectSpread({},point),{},{x:point.x+2,y:point.y+2});case\"Budget Shoppers\":return _objectSpread(_objectSpread({},point),{},{x:point.x-2,y:point.y});case\"Occasional Buyers\":return _objectSpread(_objectSpread({},point),{},{x:point.x,y:point.y-2});case\"Frequent Buyers\":return _objectSpread(_objectSpread({},point),{},{x:point.x,y:point.y+2});case\"Young Adults\":return _objectSpread(_objectSpread({},point),{},{x:point.x+3,y:point.y-1});case\"Seniors\":return _objectSpread(_objectSpread({},point),{},{x:point.x-3,y:point.y+1});case\"Families\":return _objectSpread(_objectSpread({},point),{},{x:point.x+1,y:point.y-3});default:return point;}};// âœ… Group points by cluster with adjusted positions\nconst groupedPoints=(data.visualization_data||[]).reduce((acc,point)=>{var _clusters$find;if(!acc[point.cluster])acc[point.cluster]=[];const clusterCategory=((_clusters$find=clusters.find(c=>c.cluster_id===point.cluster))===null||_clusters$find===void 0?void 0:_clusters$find.category)||\"\";acc[point.cluster].push(getAdjustedPosition(point,clusterCategory));return acc;},{});// âœ… Chart datasets\nconst chartData={datasets:[...Object.keys(groupedPoints).map(clusterId=>{var _clusters$clusterNum;const clusterNum=parseInt(clusterId,10);return{label:((_clusters$clusterNum=clusters[clusterNum])===null||_clusters$clusterNum===void 0?void 0:_clusters$clusterNum.category)||\"Cluster \".concat(clusterNum),data:groupedPoints[clusterNum],backgroundColor:clusterColors[clusterNum%clusterColors.length],borderColor:clusterColors[clusterNum%clusterColors.length],pointRadius:5,pointHoverRadius:7};}),{label:\"Centroids\",data:clusters.map(c=>{var _c$centroid,_c$centroid2;return{x:((_c$centroid=c.centroid)===null||_c$centroid===void 0?void 0:_c$centroid[0])||0,y:((_c$centroid2=c.centroid)===null||_c$centroid2===void 0?void 0:_c$centroid2[1])||0};}),backgroundColor:\"#111827\",pointStyle:\"star\",pointRadius:10,pointHoverRadius:12}]};const chartOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:\"top\"},title:{display:true,text:\"Customer Segmentation - K-Means Clustering\",font:{size:16,weight:\"bold\"}},tooltip:{callbacks:{label:function(context){const point=context.raw;if(point.customer_name){return\"\".concat(point.customer_name,\" (Age: \").concat(point.age||\"N/A\",\")\");}return\"Centroid\";}}}},scales:{x:{title:{display:true,text:\"Principal Component 1\"}},y:{title:{display:true,text:\"Principal Component 2\"}}}};// âœ… Safe number formatter\nconst formatNumber=function(value){let decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;return typeof value===\"number\"&&!isNaN(value)?value.toFixed(decimals):\"N/A\";};// âœ… Handle category change\nconst handleCategoryChange=async(clusterId,newCategory)=>{const updatedClusters=clusters.map(c=>c.cluster_id===clusterId?_objectSpread(_objectSpread({},c),{},{category:newCategory}):c);setClusters(updatedClusters);const labelsPayload={};updatedClusters.forEach(c=>{labelsPayload[c.cluster_id]=c.category;});try{const token=localStorage.getItem(\"token\");await fetch(\"http://127.0.0.1:5000/api/set-cluster-labels\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:token?\"Bearer \".concat(token):\"\"},body:JSON.stringify({labels:labelsPayload})});}catch(err){console.error(\"Error saving cluster labels:\",err);}};// âœ… Download as CSV\nconst handleDownload=()=>{const csvHeader=[\"Cluster ID\",\"Category\",\"Total Customers\",\"Avg Purchase Frequency\",\"Avg Age\",\"Top Products\"];const csvRows=clusters.map(c=>[c.cluster_id,c.category||\"Uncategorized\",c.total_customers||0,formatNumber(c.avg_purchase_frequency,2),formatNumber(c.avg_age,1),(c.most_purchased_products||[]).join(\"; \")]);const csvContent=[csvHeader,...csvRows].map(row=>row.join(\",\")).join(\"\\n\");const blob=new Blob([csvContent],{type:\"text/csv\"});const url=window.URL.createObjectURL(blob);const a=document.createElement(\"a\");a.setAttribute(\"href\",url);a.setAttribute(\"download\",\"kmeans_clusters.csv\");document.body.appendChild(a);a.click();document.body.removeChild(a);};return/*#__PURE__*/_jsxs(VisualizationContainer,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6},children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(Target,{size:24,color:\"#667eea\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"K-Means Customer Segmentation\"}),/*#__PURE__*/_jsxs(DownloadButton,{onClick:handleDownload,children:[/*#__PURE__*/_jsx(Download,{size:16}),\" Download CSV\"]})]}),/*#__PURE__*/_jsxs(Content,{children:[/*#__PURE__*/_jsx(ChartContainer,{children:/*#__PURE__*/_jsx(Scatter,{data:chartData,options:chartOptions})}),/*#__PURE__*/_jsxs(ClusterStats,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:\"16px\",color:\"#374151\"},children:\"Cluster Statistics\"}),clusters.map((cluster,index)=>{var _cluster$most_purchas;return/*#__PURE__*/_jsxs(ClusterCard,{color:clusterColors[index%clusterColors.length],children:[/*#__PURE__*/_jsxs(ClusterHeader,{children:[/*#__PURE__*/_jsx(Users,{size:16,color:clusterColors[index%clusterColors.length]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Cluster \",cluster.cluster_id,\" \\u2013\",\" \",cluster.category||\"Uncategorized\"]})]}),/*#__PURE__*/_jsxs(ClusterMetric,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Customers:\"}),/*#__PURE__*/_jsx(\"strong\",{children:cluster.total_customers||0})]}),/*#__PURE__*/_jsxs(ClusterMetric,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Avg Items/User:\"}),/*#__PURE__*/_jsx(\"strong\",{children:formatNumber(cluster.avg_purchase_frequency,2)})]}),/*#__PURE__*/_jsxs(ClusterMetric,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Avg Age:\"}),/*#__PURE__*/_jsx(\"strong\",{children:formatNumber(cluster.avg_age,1)})]}),/*#__PURE__*/_jsxs(ClusterMetric,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Top Products:\"}),/*#__PURE__*/_jsx(\"strong\",{children:((_cluster$most_purchas=cluster.most_purchased_products)===null||_cluster$most_purchas===void 0?void 0:_cluster$most_purchas.join(\", \"))||\"N/A\"})]}),/*#__PURE__*/_jsxs(CategorySelect,{value:cluster.category||\"\",onChange:e=>handleCategoryChange(cluster.cluster_id,e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categoryOptions.map((opt,i)=>/*#__PURE__*/_jsx(\"option\",{value:opt,children:opt},i))]})]},index);})]})]})]});};export default KMeansVisualization;","map":{"version":3,"names":["React","useState","motion","Scatter","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","styled","Users","Target","Download","jsx","_jsx","jsxs","_jsxs","register","VisualizationContainer","div","_templateObject","_taggedTemplateLiteral","Header","_templateObject2","DownloadButton","button","_templateObject3","Content","_templateObject4","ChartContainer","_templateObject5","ClusterStats","_templateObject6","ClusterCard","_templateObject7","props","color","ClusterHeader","_templateObject8","ClusterMetric","_templateObject9","CategorySelect","select","_templateObject0","KMeansVisualization","_ref","data","clusters","setClusters","children","clusterColors","categoryOptions","getAdjustedPosition","point","category","_objectSpread","x","y","groupedPoints","visualization_data","reduce","acc","_clusters$find","cluster","clusterCategory","find","c","cluster_id","push","chartData","datasets","Object","keys","map","clusterId","_clusters$clusterNum","clusterNum","parseInt","label","concat","backgroundColor","length","borderColor","pointRadius","pointHoverRadius","_c$centroid","_c$centroid2","centroid","pointStyle","chartOptions","responsive","maintainAspectRatio","plugins","legend","position","title","display","text","font","size","weight","tooltip","callbacks","context","raw","customer_name","age","scales","formatNumber","value","decimals","arguments","undefined","isNaN","toFixed","handleCategoryChange","newCategory","updatedClusters","labelsPayload","forEach","token","localStorage","getItem","fetch","method","headers","Authorization","body","JSON","stringify","labels","err","console","error","handleDownload","csvHeader","csvRows","total_customers","avg_purchase_frequency","avg_age","most_purchased_products","join","csvContent","row","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","setAttribute","appendChild","click","removeChild","initial","opacity","animate","transition","duration","onClick","options","style","marginBottom","index","_cluster$most_purchas","onChange","e","target","opt","i"],"sources":["C:/Users/hp/OneDrive/Desktop/Market Basket/frontend/src/components/KMeansVisualization.js"],"sourcesContent":["// src/components/KMeansVisualization.js\r\nimport React, { useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Scatter } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\nimport styled from \"styled-components\";\r\nimport { Users, Target, Download } from \"lucide-react\";\r\n\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\n/* ------------------- ðŸŽ¨ Styled Components ------------------- */\r\nconst VisualizationContainer = styled(motion.div)`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 16px;\r\n  padding: 24px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin-bottom: 24px;\r\n\r\n  h2 {\r\n    font-size: 1.5rem;\r\n    font-weight: 600;\r\n    color: #374151;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst DownloadButton = styled.button`\r\n  margin-left: auto;\r\n  background: #4f46e5;\r\n  color: white;\r\n  border: none;\r\n  padding: 8px 14px;\r\n  border-radius: 8px;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  cursor: pointer;\r\n  transition: 0.2s;\r\n\r\n  &:hover {\r\n    background: #4338ca;\r\n  }\r\n`;\r\n\r\nconst Content = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 2fr 1fr;\r\n  gap: 24px;\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nconst ChartContainer = styled.div`\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  height: 450px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n`;\r\n\r\nconst ClusterStats = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 16px;\r\n`;\r\n\r\nconst ClusterCard = styled.div`\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 16px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  border-left: 4px solid ${(props) => props.color};\r\n`;\r\n\r\nconst ClusterHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 8px;\r\n\r\n  h3 {\r\n    font-size: 1.1rem;\r\n    font-weight: 600;\r\n    color: #374151;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst ClusterMetric = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 4px;\r\n\r\n  span {\r\n    font-size: 0.875rem;\r\n    color: #6b7280;\r\n  }\r\n\r\n  strong {\r\n    color: #374151;\r\n    font-weight: 600;\r\n  }\r\n`;\r\n\r\nconst CategorySelect = styled.select`\r\n  margin-top: 8px;\r\n  padding: 6px 8px;\r\n  border-radius: 6px;\r\n  border: 1px solid #d1d5db;\r\n  font-size: 0.9rem;\r\n  width: 100%;\r\n  background: #f9fafb;\r\n`;\r\n\r\n/* ------------------- ðŸ§  Component ------------------- */\r\nconst KMeansVisualization = ({ data }) => {\r\n  const [clusters, setClusters] = useState(data?.clusters || []);\r\n\r\n  if (!data) return <p>No clustering data available</p>;\r\n\r\n  const clusterColors = [\r\n    \"#3b82f6\",\r\n    \"#10b981\",\r\n    \"#f59e0b\",\r\n    \"#ef4444\",\r\n    \"#8b5cf6\",\r\n    \"#06b6d4\",\r\n    \"#84cc16\",\r\n    \"#f97316\",\r\n  ];\r\n\r\n  const categoryOptions = [\r\n    \"High Value\",\r\n    \"Budget Shoppers\",\r\n    \"Occasional Buyers\",\r\n    \"Frequent Buyers\",\r\n    \"Young Adults\",\r\n    \"Seniors\",\r\n    \"Families\",\r\n    \"Others\",\r\n  ];\r\n\r\n  // ðŸ”‘ Adjust positions based on category selection\r\n  const getAdjustedPosition = (point, category) => {\r\n    switch (category) {\r\n      case \"High Value\":\r\n        return { ...point, x: point.x + 2, y: point.y + 2 };\r\n      case \"Budget Shoppers\":\r\n        return { ...point, x: point.x - 2, y: point.y };\r\n      case \"Occasional Buyers\":\r\n        return { ...point, x: point.x, y: point.y - 2 };\r\n      case \"Frequent Buyers\":\r\n        return { ...point, x: point.x, y: point.y + 2 };\r\n      case \"Young Adults\":\r\n        return { ...point, x: point.x + 3, y: point.y - 1 };\r\n      case \"Seniors\":\r\n        return { ...point, x: point.x - 3, y: point.y + 1 };\r\n      case \"Families\":\r\n        return { ...point, x: point.x + 1, y: point.y - 3 };\r\n      default:\r\n        return point;\r\n    }\r\n  };\r\n\r\n  // âœ… Group points by cluster with adjusted positions\r\n  const groupedPoints = (data.visualization_data || []).reduce((acc, point) => {\r\n    if (!acc[point.cluster]) acc[point.cluster] = [];\r\n    const clusterCategory =\r\n      clusters.find((c) => c.cluster_id === point.cluster)?.category || \"\";\r\n    acc[point.cluster].push(getAdjustedPosition(point, clusterCategory));\r\n    return acc;\r\n  }, {});\r\n\r\n  // âœ… Chart datasets\r\n  const chartData = {\r\n    datasets: [\r\n      ...Object.keys(groupedPoints).map((clusterId) => {\r\n        const clusterNum = parseInt(clusterId, 10);\r\n        return {\r\n          label: clusters[clusterNum]?.category || `Cluster ${clusterNum}`,\r\n          data: groupedPoints[clusterNum],\r\n          backgroundColor: clusterColors[clusterNum % clusterColors.length],\r\n          borderColor: clusterColors[clusterNum % clusterColors.length],\r\n          pointRadius: 5,\r\n          pointHoverRadius: 7,\r\n        };\r\n      }),\r\n      {\r\n        label: \"Centroids\",\r\n        data: clusters.map((c) => ({\r\n          x: c.centroid?.[0] || 0,\r\n          y: c.centroid?.[1] || 0,\r\n        })),\r\n        backgroundColor: \"#111827\",\r\n        pointStyle: \"star\",\r\n        pointRadius: 10,\r\n        pointHoverRadius: 12,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: { position: \"top\" },\r\n      title: {\r\n        display: true,\r\n        text: \"Customer Segmentation - K-Means Clustering\",\r\n        font: { size: 16, weight: \"bold\" },\r\n      },\r\n      tooltip: {\r\n        callbacks: {\r\n          label: function (context) {\r\n            const point = context.raw;\r\n            if (point.customer_name) {\r\n              return `${point.customer_name} (Age: ${point.age || \"N/A\"})`;\r\n            }\r\n            return \"Centroid\";\r\n          },\r\n        },\r\n      },\r\n    },\r\n    scales: {\r\n      x: { title: { display: true, text: \"Principal Component 1\" } },\r\n      y: { title: { display: true, text: \"Principal Component 2\" } },\r\n    },\r\n  };\r\n\r\n  // âœ… Safe number formatter\r\n  const formatNumber = (value, decimals = 2) =>\r\n    typeof value === \"number\" && !isNaN(value)\r\n      ? value.toFixed(decimals)\r\n      : \"N/A\";\r\n\r\n  // âœ… Handle category change\r\n  const handleCategoryChange = async (clusterId, newCategory) => {\r\n    const updatedClusters = clusters.map((c) =>\r\n      c.cluster_id === clusterId ? { ...c, category: newCategory } : c\r\n    );\r\n    setClusters(updatedClusters);\r\n\r\n    const labelsPayload = {};\r\n    updatedClusters.forEach((c) => {\r\n      labelsPayload[c.cluster_id] = c.category;\r\n    });\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      await fetch(\"http://127.0.0.1:5000/api/set-cluster-labels\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: token ? `Bearer ${token}` : \"\",\r\n        },\r\n        body: JSON.stringify({ labels: labelsPayload }),\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Error saving cluster labels:\", err);\r\n    }\r\n  };\r\n\r\n  // âœ… Download as CSV\r\n  const handleDownload = () => {\r\n    const csvHeader = [\r\n      \"Cluster ID\",\r\n      \"Category\",\r\n      \"Total Customers\",\r\n      \"Avg Purchase Frequency\",\r\n      \"Avg Age\",\r\n      \"Top Products\",\r\n    ];\r\n    const csvRows = clusters.map((c) => [\r\n      c.cluster_id,\r\n      c.category || \"Uncategorized\",\r\n      c.total_customers || 0,\r\n      formatNumber(c.avg_purchase_frequency, 2),\r\n      formatNumber(c.avg_age, 1),\r\n      (c.most_purchased_products || []).join(\"; \"),\r\n    ]);\r\n\r\n    const csvContent =\r\n      [csvHeader, ...csvRows].map((row) => row.join(\",\")).join(\"\\n\");\r\n\r\n    const blob = new Blob([csvContent], { type: \"text/csv\" });\r\n    const url = window.URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.setAttribute(\"href\", url);\r\n    a.setAttribute(\"download\", \"kmeans_clusters.csv\");\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n  };\r\n\r\n  return (\r\n    <VisualizationContainer\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.6 }}\r\n    >\r\n      <Header>\r\n        <Target size={24} color=\"#667eea\" />\r\n        <h2>K-Means Customer Segmentation</h2>\r\n        <DownloadButton onClick={handleDownload}>\r\n          <Download size={16} /> Download CSV\r\n        </DownloadButton>\r\n      </Header>\r\n\r\n      <Content>\r\n        {/* Chart */}\r\n        <ChartContainer>\r\n          <Scatter data={chartData} options={chartOptions} />\r\n        </ChartContainer>\r\n\r\n        {/* Cluster Stats */}\r\n        <ClusterStats>\r\n          <h3 style={{ marginBottom: \"16px\", color: \"#374151\" }}>\r\n            Cluster Statistics\r\n          </h3>\r\n          {clusters.map((cluster, index) => (\r\n            <ClusterCard\r\n              key={index}\r\n              color={clusterColors[index % clusterColors.length]}\r\n            >\r\n              <ClusterHeader>\r\n                <Users\r\n                  size={16}\r\n                  color={clusterColors[index % clusterColors.length]}\r\n                />\r\n                <h3>\r\n                  Cluster {cluster.cluster_id} â€“{\" \"}\r\n                  {cluster.category || \"Uncategorized\"}\r\n                </h3>\r\n              </ClusterHeader>\r\n\r\n              <ClusterMetric>\r\n                <span>Customers:</span>\r\n                <strong>{cluster.total_customers || 0}</strong>\r\n              </ClusterMetric>\r\n              <ClusterMetric>\r\n                <span>Avg Items/User:</span>\r\n                <strong>{formatNumber(cluster.avg_purchase_frequency, 2)}</strong>\r\n              </ClusterMetric>\r\n              <ClusterMetric>\r\n                <span>Avg Age:</span>\r\n                <strong>{formatNumber(cluster.avg_age, 1)}</strong>\r\n              </ClusterMetric>\r\n              <ClusterMetric>\r\n                <span>Top Products:</span>\r\n                <strong>\r\n                  {cluster.most_purchased_products?.join(\", \") || \"N/A\"}\r\n                </strong>\r\n              </ClusterMetric>\r\n\r\n              {/* Dropdown to change category */}\r\n              <CategorySelect\r\n                value={cluster.category || \"\"}\r\n                onChange={(e) =>\r\n                  handleCategoryChange(cluster.cluster_id, e.target.value)\r\n                }\r\n              >\r\n                <option value=\"\">Select Category</option>\r\n                {categoryOptions.map((opt, i) => (\r\n                  <option key={i} value={opt}>\r\n                    {opt}\r\n                  </option>\r\n                ))}\r\n              </CategorySelect>\r\n            </ClusterCard>\r\n          ))}\r\n        </ClusterStats>\r\n      </Content>\r\n    </VisualizationContainer>\r\n  );\r\n};\r\n\r\nexport default KMeansVisualization;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}