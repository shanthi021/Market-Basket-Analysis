{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\OneDrive\\\\Desktop\\\\Market Basket\\\\frontend\\\\src\\\\components\\\\Recommendations.js\",\n  _s = $RefreshSig$();\n// src/components/Recommendations.jsx\nimport React, { useState } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Sparkles, ShoppingCart, Lightbulb } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Recommendations = () => {\n  _s();\n  const [cartInput, setCartInput] = useState(\"\");\n  const [recommendations, setRecommendations] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const fetchRecommendations = async () => {\n    if (!cartInput.trim()) {\n      setErrorMsg(\"⚠️ Please enter at least one item in your cart.\");\n      return;\n    }\n    setLoading(true);\n    setErrorMsg(\"\");\n    setRecommendations([]);\n    try {\n      const token = localStorage.getItem(\"token\");\n      const response = await fetch(\"http://127.0.0.1:5000/api/recommend\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: token ? `Bearer ${token}` : \"\"\n        },\n        body: JSON.stringify({\n          cart: cartInput.split(\",\").map(item => item.trim()).filter(Boolean) // ✅ removes empty values\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`Server returned ${response.status}`);\n      }\n      const data = await response.json();\n      if (Array.isArray(data.recommendations)) {\n        setRecommendations(data.recommendations);\n      } else {\n        setErrorMsg(\"⚠️ No recommendations received from server.\");\n      }\n    } catch (err) {\n      console.error(\"Error fetching recommendations:\", err);\n      setErrorMsg(\"❌ Failed to fetch recommendations. Please try again.\");\n    }\n    setLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"bg-white rounded-2xl p-6 shadow-md border border-gray-200\",\n    initial: {\n      opacity: 0,\n      y: 15\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: 0.5\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-3 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Sparkles, {\n        className: \"text-indigo-500\",\n        size: 24\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold text-gray-800\",\n        children: \"Smart Recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row gap-3 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: cartInput,\n        onChange: e => setCartInput(e.target.value),\n        placeholder: \"Enter items in your cart (e.g., Milk, Bread)\",\n        className: \"flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-400 outline-none\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: fetchRecommendations,\n        disabled: loading,\n        className: \"px-5 py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition disabled:bg-gray-400\",\n        children: loading ? \"Loading...\" : \"Get Recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500 text-sm mb-4\",\n      children: errorMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 20\n    }, this), recommendations.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4\",\n      children: recommendations.map((rec, index) => /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"p-4 rounded-xl bg-gray-50 border-l-4 border-indigo-500 shadow-sm\",\n        initial: {\n          opacity: 0,\n          x: -10\n        },\n        animate: {\n          opacity: 1,\n          x: 0\n        },\n        transition: {\n          delay: index * 0.1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n            size: 18,\n            className: \"text-indigo-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-semibold text-gray-800\",\n            children: rec.product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(Lightbulb, {\n            size: 14,\n            className: \"text-yellow-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: rec.reason || \"Recommended based on your cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this) : !loading && !errorMsg && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-500 text-sm\",\n      children: \"No recommendations yet. Add items to your cart and try again!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(Recommendations, \"yJcUtb2kg4Cuoh6/LKMD6ELB0tA=\");\n_c = Recommendations;\nexport default Recommendations;\nvar _c;\n$RefreshReg$(_c, \"Recommendations\");","map":{"version":3,"names":["React","useState","motion","Sparkles","ShoppingCart","Lightbulb","jsxDEV","_jsxDEV","Recommendations","_s","cartInput","setCartInput","recommendations","setRecommendations","loading","setLoading","errorMsg","setErrorMsg","fetchRecommendations","trim","token","localStorage","getItem","response","fetch","method","headers","Authorization","body","JSON","stringify","cart","split","map","item","filter","Boolean","ok","Error","status","data","json","Array","isArray","err","console","error","div","className","initial","opacity","y","animate","transition","duration","children","size","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","disabled","length","rec","index","x","delay","product","reason","_c","$RefreshReg$"],"sources":["C:/Users/hp/OneDrive/Desktop/Market Basket/frontend/src/components/Recommendations.js"],"sourcesContent":["// src/components/Recommendations.jsx\r\nimport React, { useState } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Sparkles, ShoppingCart, Lightbulb } from \"lucide-react\";\r\n\r\nconst Recommendations = () => {\r\n  const [cartInput, setCartInput] = useState(\"\");\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const fetchRecommendations = async () => {\r\n    if (!cartInput.trim()) {\r\n      setErrorMsg(\"⚠️ Please enter at least one item in your cart.\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setErrorMsg(\"\");\r\n    setRecommendations([]);\r\n\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const response = await fetch(\"http://127.0.0.1:5000/api/recommend\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: token ? `Bearer ${token}` : \"\",\r\n        },\r\n        body: JSON.stringify({\r\n          cart: cartInput\r\n            .split(\",\")\r\n            .map((item) => item.trim())\r\n            .filter(Boolean), // ✅ removes empty values\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Server returned ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n\r\n      if (Array.isArray(data.recommendations)) {\r\n        setRecommendations(data.recommendations);\r\n      } else {\r\n        setErrorMsg(\"⚠️ No recommendations received from server.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error fetching recommendations:\", err);\r\n      setErrorMsg(\"❌ Failed to fetch recommendations. Please try again.\");\r\n    }\r\n\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      className=\"bg-white rounded-2xl p-6 shadow-md border border-gray-200\"\r\n      initial={{ opacity: 0, y: 15 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.5 }}\r\n    >\r\n      {/* Header */}\r\n      <div className=\"flex items-center gap-3 mb-4\">\r\n        <Sparkles className=\"text-indigo-500\" size={24} />\r\n        <h2 className=\"text-xl font-semibold text-gray-800\">\r\n          Smart Recommendations\r\n        </h2>\r\n      </div>\r\n\r\n      {/* Input */}\r\n      <div className=\"flex flex-col sm:flex-row gap-3 mb-6\">\r\n        <input\r\n          type=\"text\"\r\n          value={cartInput}\r\n          onChange={(e) => setCartInput(e.target.value)}\r\n          placeholder=\"Enter items in your cart (e.g., Milk, Bread)\"\r\n          className=\"flex-1 px-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-indigo-400 outline-none\"\r\n        />\r\n        <button\r\n          onClick={fetchRecommendations}\r\n          disabled={loading}\r\n          className=\"px-5 py-2 rounded-lg bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition disabled:bg-gray-400\"\r\n        >\r\n          {loading ? \"Loading...\" : \"Get Recommendations\"}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Error Message */}\r\n      {errorMsg && <p className=\"text-red-500 text-sm mb-4\">{errorMsg}</p>}\r\n\r\n      {/* Recommendations */}\r\n      {recommendations.length > 0 ? (\r\n        <div className=\"grid gap-4\">\r\n          {recommendations.map((rec, index) => (\r\n            <motion.div\r\n              key={index}\r\n              className=\"p-4 rounded-xl bg-gray-50 border-l-4 border-indigo-500 shadow-sm\"\r\n              initial={{ opacity: 0, x: -10 }}\r\n              animate={{ opacity: 1, x: 0 }}\r\n              transition={{ delay: index * 0.1 }}\r\n            >\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <ShoppingCart size={18} className=\"text-indigo-600\" />\r\n                <p className=\"font-semibold text-gray-800\">{rec.product}</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-2 text-sm text-gray-600\">\r\n                <Lightbulb size={14} className=\"text-yellow-500\" />\r\n                <span>{rec.reason || \"Recommended based on your cart\"}</span>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        !loading &&\r\n        !errorMsg && (\r\n          <p className=\"text-gray-500 text-sm\">\r\n            No recommendations yet. Add items to your cart and try again!\r\n          </p>\r\n        )\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default Recommendations;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}