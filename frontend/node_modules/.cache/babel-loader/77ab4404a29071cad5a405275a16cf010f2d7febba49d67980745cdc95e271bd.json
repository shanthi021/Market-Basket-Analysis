{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/hp/OneDrive/Desktop/Market Basket/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14;import React,{useRef,useEffect}from\"react\";import{motion}from\"framer-motion\";import{Bar}from\"react-chartjs-2\";import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from\"chart.js\";import styled from\"styled-components\";import{ShoppingCart,TrendingUp,Target,Award}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);// ---------------- Styled Components ----------------\nconst VisualizationContainer=styled(motion.div)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  background: rgba(255, 255, 255, 0.95);\\n  backdrop-filter: blur(20px);\\n  border-radius: 16px;\\n  padding: 24px;\\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\\n  margin-bottom: 24px;\\n\"])));const Header=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n  margin-bottom: 24px;\\n\\n  h2 {\\n    font-size: 1.5rem;\\n    font-weight: 600;\\n    color: #374151;\\n    margin: 0;\\n  }\\n\"])));const Content=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  gap: 24px;\\n  margin-bottom: 24px;\\n\\n  @media (max-width: 768px) {\\n    grid-template-columns: 1fr;\\n  }\\n\"])));const ChartContainer=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  background: white;\\n  border-radius: 12px;\\n  padding: 20px;\\n  height: 400px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\\n  position: relative;\\n\"])));const DownloadBtn=styled.button(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 12px;\\n  right: 12px;\\n  background: #667eea;\\n  color: white;\\n  border: none;\\n  padding: 6px 10px;\\n  border-radius: 6px;\\n  font-size: 0.8rem;\\n  cursor: pointer;\\n  &:hover {\\n    background: #5a67d8;\\n  }\\n\"])));const RulesContainer=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  background: white;\\n  border-radius: 12px;\\n  padding: 20px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\\n  max-height: 400px;\\n  overflow-y: auto;\\n  position: relative;\\n\"])));const RulesDownloadBtn=styled(DownloadBtn)(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  top: 16px;\\n  right: 16px;\\n\"])));const RuleCard=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  background: #f8fafc;\\n  border-radius: 8px;\\n  padding: 16px;\\n  margin-bottom: 12px;\\n  border-left: 4px solid #667eea;\\n\"])));const RuleText=styled.p(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  color: #374151;\\n  font-weight: 500;\\n  margin: 0;\\n\"])));const RuleMetrics=styled.div(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: repeat(3, 1fr);\\n  gap: 8px;\\n  margin-top: 8px;\\n\"])));const Metric=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  text-align: center;\\n\\n  .label {\\n    font-size: 0.75rem;\\n    color: #6b7280;\\n    text-transform: uppercase;\\n    letter-spacing: 0.05em;\\n  }\\n\\n  .value {\\n    font-size: 1.1rem;\\n    font-weight: 600;\\n    color: #374151;\\n  }\\n\"])));const StatsGrid=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\\n  gap: 16px;\\n  margin-top: 24px;\\n\"])));const StatCard=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  background: white;\\n  border-radius: 12px;\\n  padding: 20px;\\n  text-align: center;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\\n\"])));const StatIcon=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  width: 50px;\\n  height: 50px;\\n  border-radius: 12px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 0 auto 12px;\\n  background: \",\";\\n  color: white;\\n\"])),props=>props.bgColor);const StatValue=styled.h3(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  font-size: 1.5rem;\\n  font-weight: 700;\\n  color: #374151;\\n  margin: 0 0 4px 0;\\n\"])));const StatLabel=styled.p(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  color: #6b7280;\\n  font-size: 0.875rem;\\n  margin: 0;\\n\"])));// ---------------- Component ----------------\nconst MarketBasketChart=_ref=>{var _data$total_rules;let{data}=_ref;const confidenceChartRef=useRef(null);const supportLiftChartRef=useRef(null);// ✅ Attach dashboard \"Download MBA Results\" button listener\nuseEffect(()=>{const downloadRulesCSV=()=>{if(!data||!data.association_rules)return;const rules=data.association_rules.map(rule=>{var _rule$confidence,_rule$support,_rule$lift;return{antecedent:Array.isArray(rule.antecedent)?rule.antecedent:[rule.antecedent],consequent:Array.isArray(rule.consequent)?rule.consequent:[rule.consequent],confidence:(_rule$confidence=rule.confidence)!==null&&_rule$confidence!==void 0?_rule$confidence:0,support:(_rule$support=rule.support)!==null&&_rule$support!==void 0?_rule$support:0,lift:(_rule$lift=rule.lift)!==null&&_rule$lift!==void 0?_rule$lift:0};});const csvContent=[[\"Antecedent\",\"Consequent\",\"Confidence\",\"Support\",\"Lift\"].join(\",\"),...rules.map(r=>{var _r$confidence,_r$support,_r$lift;return[r.antecedent.join(\" + \"),r.consequent.join(\" + \"),(((_r$confidence=r.confidence)!==null&&_r$confidence!==void 0?_r$confidence:0)*100).toFixed(1)+\"%\",(((_r$support=r.support)!==null&&_r$support!==void 0?_r$support:0)*100).toFixed(1)+\"%\",((_r$lift=r.lift)!==null&&_r$lift!==void 0?_r$lift:0).toFixed(2)].join(\",\");})].join(\"\\n\");const blob=new Blob([csvContent],{type:\"text/csv;charset=utf-8;\"});const url=URL.createObjectURL(blob);const link=document.createElement(\"a\");link.href=url;link.download=\"mba_results.csv\";link.click();};const dashboardBtn=document.querySelector(\"#download-mba-results\");if(dashboardBtn){dashboardBtn.addEventListener(\"click\",downloadRulesCSV);}return()=>{if(dashboardBtn){dashboardBtn.removeEventListener(\"click\",downloadRulesCSV);}};},[data]);// Early exit (safe after useEffect is declared)\nif(!data||!data.association_rules||data.association_rules.length===0){return/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:\"\\u26A0\\uFE0F No Market Basket Data Available\"});}// ---------------- Rules & Charts ----------------\nconst rules=data.association_rules.map(rule=>{var _rule$confidence2,_rule$support2,_rule$lift2;return{antecedent:Array.isArray(rule.antecedent)?rule.antecedent:[rule.antecedent],consequent:Array.isArray(rule.consequent)?rule.consequent:[rule.consequent],confidence:(_rule$confidence2=rule.confidence)!==null&&_rule$confidence2!==void 0?_rule$confidence2:0,support:(_rule$support2=rule.support)!==null&&_rule$support2!==void 0?_rule$support2:0,lift:(_rule$lift2=rule.lift)!==null&&_rule$lift2!==void 0?_rule$lift2:0};});rules.sort((a,b)=>b.lift-a.lift);const confidenceData={labels:rules.map(r=>\"\".concat(r.antecedent.join(\"+\"),\" \\u2192 \").concat(r.consequent.join(\"+\"))),datasets:[{label:\"Confidence (%)\",data:rules.map(r=>{var _r$confidence2;return((_r$confidence2=r.confidence)!==null&&_r$confidence2!==void 0?_r$confidence2:0)*100;}),backgroundColor:\"rgba(102, 126, 234, 0.8)\",borderColor:\"rgba(102, 126, 234, 1)\",borderWidth:1}]};const confidenceOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{x:{ticks:{display:false}},y:{beginAtZero:true,max:100,title:{display:true,text:\"Confidence (%)\"}}}};const supportLiftData={labels:rules.map(r=>\"\".concat(r.antecedent.join(\"+\"),\" \\u2192 \").concat(r.consequent.join(\"+\"))),datasets:[{label:\"Support (%)\",data:rules.map(r=>{var _r$support2;return((_r$support2=r.support)!==null&&_r$support2!==void 0?_r$support2:0)*100;}),backgroundColor:\"rgba(16, 185, 129, 0.8)\",yAxisID:\"y1\"},{label:\"Lift\",data:rules.map(r=>{var _r$lift2;return(_r$lift2=r.lift)!==null&&_r$lift2!==void 0?_r$lift2:0;}),backgroundColor:\"rgba(245, 158, 11, 0.8)\",yAxisID:\"y2\"}]};const supportLiftOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:\"top\"}},scales:{y1:{beginAtZero:true,position:\"left\",title:{display:true,text:\"Support (%)\"}},y2:{beginAtZero:true,position:\"right\",grid:{drawOnChartArea:false},title:{display:true,text:\"Lift\"}},x:{ticks:{display:false}}}};const itemCounts={};rules.forEach(r=>{r.antecedent.forEach(item=>{itemCounts[item]=(itemCounts[item]||0)+1;});});const topAntecedent=Object.entries(itemCounts).sort((a,b)=>b[1]-a[1])[0];const downloadChart=(ref,name)=>{if(!ref.current)return;const url=ref.current.toBase64Image();const link=document.createElement(\"a\");link.href=url;link.download=name;link.click();};const downloadRulesCSV=()=>{const csvContent=[[\"Antecedent\",\"Consequent\",\"Confidence\",\"Support\",\"Lift\"].join(\",\"),...rules.map(r=>{var _r$confidence3,_r$support3,_r$lift3;return[r.antecedent.join(\" + \"),r.consequent.join(\" + \"),(((_r$confidence3=r.confidence)!==null&&_r$confidence3!==void 0?_r$confidence3:0)*100).toFixed(1)+\"%\",(((_r$support3=r.support)!==null&&_r$support3!==void 0?_r$support3:0)*100).toFixed(1)+\"%\",((_r$lift3=r.lift)!==null&&_r$lift3!==void 0?_r$lift3:0).toFixed(2)].join(\",\");})].join(\"\\n\");const blob=new Blob([csvContent],{type:\"text/csv;charset=utf-8;\"});const url=URL.createObjectURL(blob);const link=document.createElement(\"a\");link.href=url;link.download=\"association_rules.csv\";link.click();};return/*#__PURE__*/_jsxs(VisualizationContainer,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.6},children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(ShoppingCart,{size:24,color:\"#667eea\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Market Basket Analysis Results\"})]}),/*#__PURE__*/_jsxs(Content,{children:[/*#__PURE__*/_jsxs(ChartContainer,{children:[/*#__PURE__*/_jsx(Bar,{ref:confidenceChartRef,data:confidenceData,options:confidenceOptions}),/*#__PURE__*/_jsx(DownloadBtn,{onClick:()=>downloadChart(confidenceChartRef,\"confidence_chart.png\"),children:\"Download\"})]}),/*#__PURE__*/_jsxs(ChartContainer,{children:[/*#__PURE__*/_jsx(Bar,{ref:supportLiftChartRef,data:supportLiftData,options:supportLiftOptions}),/*#__PURE__*/_jsx(DownloadBtn,{onClick:()=>downloadChart(supportLiftChartRef,\"support_lift_chart.png\"),children:\"Download\"})]})]}),/*#__PURE__*/_jsxs(RulesContainer,{children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:\"16px\",color:\"#374151\"},children:\"Association Rules (sorted by Lift)\"}),/*#__PURE__*/_jsx(RulesDownloadBtn,{onClick:downloadRulesCSV,children:\"Download CSV\"}),rules.map((rule,index)=>{var _rule$confidence3,_rule$support3,_rule$lift3;return/*#__PURE__*/_jsxs(RuleCard,{children:[/*#__PURE__*/_jsxs(RuleText,{children:[rule.antecedent.join(\" + \"),\" \\u2192 \",rule.consequent.join(\" + \")]}),/*#__PURE__*/_jsxs(RuleMetrics,{children:[/*#__PURE__*/_jsxs(Metric,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Confidence\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value\",children:[(((_rule$confidence3=rule.confidence)!==null&&_rule$confidence3!==void 0?_rule$confidence3:0)*100).toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsxs(Metric,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Support\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"value\",children:[(((_rule$support3=rule.support)!==null&&_rule$support3!==void 0?_rule$support3:0)*100).toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsxs(Metric,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Lift\"}),/*#__PURE__*/_jsx(\"div\",{className:\"value\",children:((_rule$lift3=rule.lift)!==null&&_rule$lift3!==void 0?_rule$lift3:0).toFixed(2)})]})]})]},index);})]}),/*#__PURE__*/_jsxs(StatsGrid,{children:[/*#__PURE__*/_jsxs(StatCard,{children:[/*#__PURE__*/_jsx(StatIcon,{bgColor:\"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)\",children:/*#__PURE__*/_jsx(Target,{size:24})}),/*#__PURE__*/_jsx(StatValue,{children:(_data$total_rules=data.total_rules)!==null&&_data$total_rules!==void 0?_data$total_rules:rules.length}),/*#__PURE__*/_jsx(StatLabel,{children:\"Total Rules\"})]}),/*#__PURE__*/_jsxs(StatCard,{children:[/*#__PURE__*/_jsx(StatIcon,{bgColor:\"linear-gradient(135deg, #10b981 0%, #059669 100%)\",children:/*#__PURE__*/_jsx(TrendingUp,{size:24})}),/*#__PURE__*/_jsxs(StatValue,{children:[(rules.reduce((acc,r)=>{var _r$confidence4;return acc+((_r$confidence4=r.confidence)!==null&&_r$confidence4!==void 0?_r$confidence4:0);},0)/(rules.length||1)*100).toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(StatLabel,{children:\"Avg Confidence\"})]}),/*#__PURE__*/_jsxs(StatCard,{children:[/*#__PURE__*/_jsx(StatIcon,{bgColor:\"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)\",children:/*#__PURE__*/_jsx(Award,{size:24})}),/*#__PURE__*/_jsx(StatValue,{children:Math.max(...rules.map(r=>{var _r$lift4;return(_r$lift4=r.lift)!==null&&_r$lift4!==void 0?_r$lift4:0;})).toFixed(2)}),/*#__PURE__*/_jsx(StatLabel,{children:\"Highest Lift\"})]}),topAntecedent&&/*#__PURE__*/_jsxs(StatCard,{children:[/*#__PURE__*/_jsx(StatIcon,{bgColor:\"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)\",children:/*#__PURE__*/_jsx(ShoppingCart,{size:24})}),/*#__PURE__*/_jsx(StatValue,{children:topAntecedent[0]}),/*#__PURE__*/_jsx(StatLabel,{children:\"Most Frequent Antecedent\"})]})]})]});};export default MarketBasketChart;","map":{"version":3,"names":["React","useRef","useEffect","motion","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","styled","ShoppingCart","TrendingUp","Target","Award","jsx","_jsx","jsxs","_jsxs","register","VisualizationContainer","div","_templateObject","_taggedTemplateLiteral","Header","_templateObject2","Content","_templateObject3","ChartContainer","_templateObject4","DownloadBtn","button","_templateObject5","RulesContainer","_templateObject6","RulesDownloadBtn","_templateObject7","RuleCard","_templateObject8","RuleText","p","_templateObject9","RuleMetrics","_templateObject0","Metric","_templateObject1","StatsGrid","_templateObject10","StatCard","_templateObject11","StatIcon","_templateObject12","props","bgColor","StatValue","h3","_templateObject13","StatLabel","_templateObject14","MarketBasketChart","_ref","_data$total_rules","data","confidenceChartRef","supportLiftChartRef","downloadRulesCSV","association_rules","rules","map","rule","_rule$confidence","_rule$support","_rule$lift","antecedent","Array","isArray","consequent","confidence","support","lift","csvContent","join","r","_r$confidence","_r$support","_r$lift","toFixed","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","click","dashboardBtn","querySelector","addEventListener","removeEventListener","length","style","color","children","_rule$confidence2","_rule$support2","_rule$lift2","sort","a","b","confidenceData","labels","concat","datasets","label","_r$confidence2","backgroundColor","borderColor","borderWidth","confidenceOptions","responsive","maintainAspectRatio","plugins","legend","display","scales","x","ticks","y","beginAtZero","max","title","text","supportLiftData","_r$support2","yAxisID","_r$lift2","supportLiftOptions","position","y1","y2","grid","drawOnChartArea","itemCounts","forEach","item","topAntecedent","Object","entries","downloadChart","ref","name","current","toBase64Image","_r$confidence3","_r$support3","_r$lift3","initial","opacity","animate","transition","duration","size","options","onClick","marginBottom","index","_rule$confidence3","_rule$support3","_rule$lift3","className","total_rules","reduce","acc","_r$confidence4","Math","_r$lift4"],"sources":["C:/Users/hp/OneDrive/Desktop/Market Basket/frontend/src/components/MarketBasketChart.js"],"sourcesContent":["import React, { useRef, useEffect } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\nimport styled from \"styled-components\";\r\nimport { ShoppingCart, TrendingUp, Target, Award } from \"lucide-react\";\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\n// ---------------- Styled Components ----------------\r\nconst VisualizationContainer = styled(motion.div)`\r\n  background: rgba(255, 255, 255, 0.95);\r\n  backdrop-filter: blur(20px);\r\n  border-radius: 16px;\r\n  padding: 24px;\r\n  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);\r\n  margin-bottom: 24px;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 12px;\r\n  margin-bottom: 24px;\r\n\r\n  h2 {\r\n    font-size: 1.5rem;\r\n    font-weight: 600;\r\n    color: #374151;\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Content = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 24px;\r\n  margin-bottom: 24px;\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nconst ChartContainer = styled.div`\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  height: 400px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  position: relative;\r\n`;\r\n\r\nconst DownloadBtn = styled.button`\r\n  position: absolute;\r\n  top: 12px;\r\n  right: 12px;\r\n  background: #667eea;\r\n  color: white;\r\n  border: none;\r\n  padding: 6px 10px;\r\n  border-radius: 6px;\r\n  font-size: 0.8rem;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background: #5a67d8;\r\n  }\r\n`;\r\n\r\nconst RulesContainer = styled.div`\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  max-height: 400px;\r\n  overflow-y: auto;\r\n  position: relative;\r\n`;\r\n\r\nconst RulesDownloadBtn = styled(DownloadBtn)`\r\n  top: 16px;\r\n  right: 16px;\r\n`;\r\n\r\nconst RuleCard = styled.div`\r\n  background: #f8fafc;\r\n  border-radius: 8px;\r\n  padding: 16px;\r\n  margin-bottom: 12px;\r\n  border-left: 4px solid #667eea;\r\n`;\r\n\r\nconst RuleText = styled.p`\r\n  color: #374151;\r\n  font-weight: 500;\r\n  margin: 0;\r\n`;\r\n\r\nconst RuleMetrics = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 8px;\r\n  margin-top: 8px;\r\n`;\r\n\r\nconst Metric = styled.div`\r\n  text-align: center;\r\n\r\n  .label {\r\n    font-size: 0.75rem;\r\n    color: #6b7280;\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.05em;\r\n  }\r\n\r\n  .value {\r\n    font-size: 1.1rem;\r\n    font-weight: 600;\r\n    color: #374151;\r\n  }\r\n`;\r\n\r\nconst StatsGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\r\n  gap: 16px;\r\n  margin-top: 24px;\r\n`;\r\n\r\nconst StatCard = styled.div`\r\n  background: white;\r\n  border-radius: 12px;\r\n  padding: 20px;\r\n  text-align: center;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n`;\r\n\r\nconst StatIcon = styled.div`\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 12px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 auto 12px;\r\n  background: ${(props) => props.bgColor};\r\n  color: white;\r\n`;\r\n\r\nconst StatValue = styled.h3`\r\n  font-size: 1.5rem;\r\n  font-weight: 700;\r\n  color: #374151;\r\n  margin: 0 0 4px 0;\r\n`;\r\n\r\nconst StatLabel = styled.p`\r\n  color: #6b7280;\r\n  font-size: 0.875rem;\r\n  margin: 0;\r\n`;\r\n\r\n// ---------------- Component ----------------\r\nconst MarketBasketChart = ({ data }) => {\r\n  const confidenceChartRef = useRef(null);\r\n  const supportLiftChartRef = useRef(null);\r\n\r\n  // ✅ Attach dashboard \"Download MBA Results\" button listener\r\n  useEffect(() => {\r\n    const downloadRulesCSV = () => {\r\n      if (!data || !data.association_rules) return;\r\n      const rules = data.association_rules.map((rule) => ({\r\n        antecedent: Array.isArray(rule.antecedent) ? rule.antecedent : [rule.antecedent],\r\n        consequent: Array.isArray(rule.consequent) ? rule.consequent : [rule.consequent],\r\n        confidence: rule.confidence ?? 0,\r\n        support: rule.support ?? 0,\r\n        lift: rule.lift ?? 0,\r\n      }));\r\n\r\n      const csvContent = [\r\n        [\"Antecedent\", \"Consequent\", \"Confidence\", \"Support\", \"Lift\"].join(\",\"),\r\n        ...rules.map((r) =>\r\n          [\r\n            r.antecedent.join(\" + \"),\r\n            r.consequent.join(\" + \"),\r\n            ((r.confidence ?? 0) * 100).toFixed(1) + \"%\",\r\n            ((r.support ?? 0) * 100).toFixed(1) + \"%\",\r\n            (r.lift ?? 0).toFixed(2),\r\n          ].join(\",\")\r\n        ),\r\n      ].join(\"\\n\");\r\n\r\n      const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\r\n      const url = URL.createObjectURL(blob);\r\n      const link = document.createElement(\"a\");\r\n      link.href = url;\r\n      link.download = \"mba_results.csv\";\r\n      link.click();\r\n    };\r\n\r\n    const dashboardBtn = document.querySelector(\"#download-mba-results\");\r\n    if (dashboardBtn) {\r\n      dashboardBtn.addEventListener(\"click\", downloadRulesCSV);\r\n    }\r\n    return () => {\r\n      if (dashboardBtn) {\r\n        dashboardBtn.removeEventListener(\"click\", downloadRulesCSV);\r\n      }\r\n    };\r\n  }, [data]);\r\n\r\n  // Early exit (safe after useEffect is declared)\r\n  if (!data || !data.association_rules || data.association_rules.length === 0) {\r\n    return <p style={{ color: \"red\" }}>⚠️ No Market Basket Data Available</p>;\r\n  }\r\n\r\n  // ---------------- Rules & Charts ----------------\r\n  const rules = data.association_rules.map((rule) => ({\r\n    antecedent: Array.isArray(rule.antecedent) ? rule.antecedent : [rule.antecedent],\r\n    consequent: Array.isArray(rule.consequent) ? rule.consequent : [rule.consequent],\r\n    confidence: rule.confidence ?? 0,\r\n    support: rule.support ?? 0,\r\n    lift: rule.lift ?? 0,\r\n  }));\r\n\r\n  rules.sort((a, b) => b.lift - a.lift);\r\n\r\n  const confidenceData = {\r\n    labels: rules.map(\r\n      (r) => `${r.antecedent.join(\"+\")} → ${r.consequent.join(\"+\")}`\r\n    ),\r\n    datasets: [\r\n      {\r\n        label: \"Confidence (%)\",\r\n        data: rules.map((r) => (r.confidence ?? 0) * 100),\r\n        backgroundColor: \"rgba(102, 126, 234, 0.8)\",\r\n        borderColor: \"rgba(102, 126, 234, 1)\",\r\n        borderWidth: 1,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const confidenceOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: { legend: { display: false } },\r\n    scales: {\r\n      x: { ticks: { display: false } },\r\n      y: { beginAtZero: true, max: 100, title: { display: true, text: \"Confidence (%)\" } },\r\n    },\r\n  };\r\n\r\n  const supportLiftData = {\r\n    labels: rules.map(\r\n      (r) => `${r.antecedent.join(\"+\")} → ${r.consequent.join(\"+\")}`\r\n    ),\r\n    datasets: [\r\n      {\r\n        label: \"Support (%)\",\r\n        data: rules.map((r) => (r.support ?? 0) * 100),\r\n        backgroundColor: \"rgba(16, 185, 129, 0.8)\",\r\n        yAxisID: \"y1\",\r\n      },\r\n      {\r\n        label: \"Lift\",\r\n        data: rules.map((r) => r.lift ?? 0),\r\n        backgroundColor: \"rgba(245, 158, 11, 0.8)\",\r\n        yAxisID: \"y2\",\r\n      },\r\n    ],\r\n  };\r\n\r\n  const supportLiftOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: { legend: { position: \"top\" } },\r\n    scales: {\r\n      y1: { beginAtZero: true, position: \"left\", title: { display: true, text: \"Support (%)\" } },\r\n      y2: { beginAtZero: true, position: \"right\", grid: { drawOnChartArea: false }, title: { display: true, text: \"Lift\" } },\r\n      x: { ticks: { display: false } },\r\n    },\r\n  };\r\n\r\n  const itemCounts = {};\r\n  rules.forEach((r) => {\r\n    r.antecedent.forEach((item) => {\r\n      itemCounts[item] = (itemCounts[item] || 0) + 1;\r\n    });\r\n  });\r\n  const topAntecedent = Object.entries(itemCounts).sort((a, b) => b[1] - a[1])[0];\r\n\r\n  const downloadChart = (ref, name) => {\r\n    if (!ref.current) return;\r\n    const url = ref.current.toBase64Image();\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.download = name;\r\n    link.click();\r\n  };\r\n\r\n  const downloadRulesCSV = () => {\r\n    const csvContent = [\r\n      [\"Antecedent\", \"Consequent\", \"Confidence\", \"Support\", \"Lift\"].join(\",\"),\r\n      ...rules.map((r) =>\r\n        [\r\n          r.antecedent.join(\" + \"),\r\n          r.consequent.join(\" + \"),\r\n          ((r.confidence ?? 0) * 100).toFixed(1) + \"%\",\r\n          ((r.support ?? 0) * 100).toFixed(1) + \"%\",\r\n          (r.lift ?? 0).toFixed(2),\r\n        ].join(\",\")\r\n      ),\r\n    ].join(\"\\n\");\r\n\r\n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.download = \"association_rules.csv\";\r\n    link.click();\r\n  };\r\n\r\n  return (\r\n    <VisualizationContainer initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.6 }}>\r\n      <Header>\r\n        <ShoppingCart size={24} color=\"#667eea\" />\r\n        <h2>Market Basket Analysis Results</h2>\r\n      </Header>\r\n\r\n      {/* Charts */}\r\n      <Content>\r\n        <ChartContainer>\r\n          <Bar ref={confidenceChartRef} data={confidenceData} options={confidenceOptions} />\r\n          <DownloadBtn onClick={() => downloadChart(confidenceChartRef, \"confidence_chart.png\")}>\r\n            Download\r\n          </DownloadBtn>\r\n        </ChartContainer>\r\n\r\n        <ChartContainer>\r\n          <Bar ref={supportLiftChartRef} data={supportLiftData} options={supportLiftOptions} />\r\n          <DownloadBtn onClick={() => downloadChart(supportLiftChartRef, \"support_lift_chart.png\")}>\r\n            Download\r\n          </DownloadBtn>\r\n        </ChartContainer>\r\n      </Content>\r\n\r\n      {/* Rules List */}\r\n      <RulesContainer>\r\n        <h3 style={{ marginBottom: \"16px\", color: \"#374151\" }}>Association Rules (sorted by Lift)</h3>\r\n        <RulesDownloadBtn onClick={downloadRulesCSV}>Download CSV</RulesDownloadBtn>\r\n        {rules.map((rule, index) => (\r\n          <RuleCard key={index}>\r\n            <RuleText>\r\n              {rule.antecedent.join(\" + \")} → {rule.consequent.join(\" + \")}\r\n            </RuleText>\r\n            <RuleMetrics>\r\n              <Metric>\r\n                <div className=\"label\">Confidence</div>\r\n                <div className=\"value\">{((rule.confidence ?? 0) * 100).toFixed(1)}%</div>\r\n              </Metric>\r\n              <Metric>\r\n                <div className=\"label\">Support</div>\r\n                <div className=\"value\">{((rule.support ?? 0) * 100).toFixed(1)}%</div>\r\n              </Metric>\r\n              <Metric>\r\n                <div className=\"label\">Lift</div>\r\n                <div className=\"value\">{(rule.lift ?? 0).toFixed(2)}</div>\r\n              </Metric>\r\n            </RuleMetrics>\r\n          </RuleCard>\r\n        ))}\r\n      </RulesContainer>\r\n\r\n      {/* Stats */}\r\n      <StatsGrid>\r\n        <StatCard>\r\n          <StatIcon bgColor=\"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)\">\r\n            <Target size={24} />\r\n          </StatIcon>\r\n          <StatValue>{data.total_rules ?? rules.length}</StatValue>\r\n          <StatLabel>Total Rules</StatLabel>\r\n        </StatCard>\r\n\r\n        <StatCard>\r\n          <StatIcon bgColor=\"linear-gradient(135deg, #10b981 0%, #059669 100%)\">\r\n            <TrendingUp size={24} />\r\n          </StatIcon>\r\n          <StatValue>\r\n            {((rules.reduce((acc, r) => acc + (r.confidence ?? 0), 0) / (rules.length || 1)) * 100).toFixed(1)}%\r\n          </StatValue>\r\n          <StatLabel>Avg Confidence</StatLabel>\r\n        </StatCard>\r\n\r\n        <StatCard>\r\n          <StatIcon bgColor=\"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)\">\r\n            <Award size={24} />\r\n          </StatIcon>\r\n          <StatValue>{Math.max(...rules.map((r) => r.lift ?? 0)).toFixed(2)}</StatValue>\r\n          <StatLabel>Highest Lift</StatLabel>\r\n        </StatCard>\r\n\r\n        {topAntecedent && (\r\n          <StatCard>\r\n            <StatIcon bgColor=\"linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%)\">\r\n              <ShoppingCart size={24} />\r\n            </StatIcon>\r\n            <StatValue>{topAntecedent[0]}</StatValue>\r\n            <StatLabel>Most Frequent Antecedent</StatLabel>\r\n          </StatCard>\r\n        )}\r\n      </StatsGrid>\r\n    </VisualizationContainer>\r\n  );\r\n};\r\n\r\nexport default MarketBasketChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}